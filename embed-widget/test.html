<!DOCTYPE html>
<html>
<head>
    <title>PDF Chat Widget - Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        h1 { color: #333; }
        .debug {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>PDF Chat Widget - Test Page</h1>
    <p>This is a simplified test page for the chat widget.</p>
    
    <div class="debug">
        <h3>Debug Information:</h3>
        <div id="debug-info">Loading...</div>
    </div>

    <script>
        // Debug information
        const debugInfo = document.getElementById('debug-info');
        function log(message) {
            debugInfo.innerHTML += message + '<br>';
            console.log(message);
        }

        log('Page loaded');
        log('Loading widget script...');
    </script>

    <!-- Load the widget script -->
    <script src="./dist/pdf-chat-widget.min.js"></script>

    <script>
        // Check if widget loaded
        log('Script loaded. PDFChatWidget type: ' + typeof PDFChatWidget);

        // Initialize the widget
        try {
            log('Initializing widget...');
            const chatWidget = new PDFChatWidget({
                apiUrl: window.location.origin, // Use current origin
                position: 'bottom-right',
                primaryColor: '#4f46e5',
                title: 'Test Chat Widget',
                welcomeMessage: 'Hello! This is a test of the PDF Chat Widget.'
            });
            log('Widget initialized successfully!');
        } catch (error) {
            log('Error initializing widget: ' + error.message);
            console.error(error);
        }
    </script>
</body>
</html>
